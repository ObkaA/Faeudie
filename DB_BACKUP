--
-- PostgreSQL database dump
--

-- Dumped from database version 14.17 (Ubuntu 14.17-0ubuntu0.22.04.1)
-- Dumped by pg_dump version 14.17 (Ubuntu 14.17-0ubuntu0.22.04.1)

-- Started on 2025-05-13 13:46:32 CEST

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 209 (class 1259 OID 16384)
-- Name: comments; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.comments (
    id integer NOT NULL,
    user_id integer NOT NULL,
    recipe_id integer NOT NULL,
    comment character varying(80) NOT NULL,
    time_created timestamp without time zone DEFAULT '2025-04-05 17:51:04.045227'::timestamp without time zone
);


ALTER TABLE public.comments OWNER TO postgres;

--
-- TOC entry 210 (class 1259 OID 16388)
-- Name: fridgeingredient; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.fridgeingredient (
    id integer NOT NULL,
    user_id integer NOT NULL,
    ingredient_id integer NOT NULL,
    amount integer NOT NULL,
    unit character varying(15) NOT NULL
);


ALTER TABLE public.fridgeingredient OWNER TO postgres;

--
-- TOC entry 211 (class 1259 OID 16391)
-- Name: ingredients; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.ingredients (
    id integer NOT NULL,
    name character varying(255) NOT NULL,
    protein double precision DEFAULT 0 NOT NULL,
    fat double precision DEFAULT 0 NOT NULL,
    carbs double precision DEFAULT 0 NOT NULL
);


ALTER TABLE public.ingredients OWNER TO postgres;

--
-- TOC entry 212 (class 1259 OID 16397)
-- Name: meal_categories; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.meal_categories (
    id integer NOT NULL,
    name_category character varying(50) NOT NULL
);


ALTER TABLE public.meal_categories OWNER TO postgres;

--
-- TOC entry 213 (class 1259 OID 16400)
-- Name: meal_categories_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.meal_categories_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.meal_categories_id_seq OWNER TO postgres;

--
-- TOC entry 3432 (class 0 OID 0)
-- Dependencies: 213
-- Name: meal_categories_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.meal_categories_id_seq OWNED BY public.meal_categories.id;


--
-- TOC entry 214 (class 1259 OID 16401)
-- Name: recipeingredients; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.recipeingredients (
    recipe_id integer NOT NULL,
    ingredient_id integer NOT NULL,
    amount integer NOT NULL,
    unit integer
);


ALTER TABLE public.recipeingredients OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 16404)
-- Name: recipes; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.recipes (
    user_id integer NOT NULL,
    title character varying(255) NOT NULL,
    category integer,
    instructions text,
    cooking_time integer,
    rating double precision DEFAULT 0,
    calories integer NOT NULL,
    time_added timestamp without time zone DEFAULT '2025-04-05 17:37:31.826369'::timestamp without time zone,
    portions integer NOT NULL,
    id integer NOT NULL
);


ALTER TABLE public.recipes OWNER TO postgres;

--
-- TOC entry 216 (class 1259 OID 16411)
-- Name: recipes_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.recipes_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.recipes_id_seq OWNER TO postgres;

--
-- TOC entry 3433 (class 0 OID 0)
-- Dependencies: 216
-- Name: recipes_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.recipes_id_seq OWNED BY public.recipes.id;


--
-- TOC entry 217 (class 1259 OID 16412)
-- Name: units; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.units (
    id integer NOT NULL,
    name character varying(50) NOT NULL
);


ALTER TABLE public.units OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 16415)
-- Name: units_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.units_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.units_id_seq OWNER TO postgres;

--
-- TOC entry 3434 (class 0 OID 0)
-- Dependencies: 218
-- Name: units_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE public.units_id_seq OWNED BY public.units.id;


--
-- TOC entry 220 (class 1259 OID 16484)
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE public.users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.users_id_seq OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 16416)
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    id integer DEFAULT nextval('public.users_id_seq'::regclass) NOT NULL,
    login character varying(15) NOT NULL,
    password_hashed text NOT NULL
);


ALTER TABLE public.users OWNER TO postgres;

--
-- TOC entry 3242 (class 2604 OID 16421)
-- Name: meal_categories id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.meal_categories ALTER COLUMN id SET DEFAULT nextval('public.meal_categories_id_seq'::regclass);


--
-- TOC entry 3245 (class 2604 OID 16422)
-- Name: recipes id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.recipes ALTER COLUMN id SET DEFAULT nextval('public.recipes_id_seq'::regclass);


--
-- TOC entry 3246 (class 2604 OID 16423)
-- Name: units id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.units ALTER COLUMN id SET DEFAULT nextval('public.units_id_seq'::regclass);


--
-- TOC entry 3415 (class 0 OID 16384)
-- Dependencies: 209
-- Data for Name: comments; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 3416 (class 0 OID 16388)
-- Dependencies: 210
-- Data for Name: fridgeingredient; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 3417 (class 0 OID 16391)
-- Dependencies: 211
-- Data for Name: ingredients; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.ingredients VALUES (1, 'pomidor', 0, 0, 0);
INSERT INTO public.ingredients VALUES (2, 'Brokuly', 0, 0, 0);
INSERT INTO public.ingredients VALUES (3, 'Smietana 30\%', 0, 0, 0);
INSERT INTO public.ingredients VALUES (4, 'Bulka czosnkowa', 0, 0, 0);
INSERT INTO public.ingredients VALUES (5, 'Makaron spaghetti', 0, 0, 0);
INSERT INTO public.ingredients VALUES (6, 'Mieso mielone', 0, 0, 0);
INSERT INTO public.ingredients VALUES (7, 'Cebula', 0, 0, 0);
INSERT INTO public.ingredients VALUES (8, 'Czosnek', 0, 0, 0);
INSERT INTO public.ingredients VALUES (9, 'Pomidory z puszki', 0, 0, 0);
INSERT INTO public.ingredients VALUES (10, 'Jajka', 0, 0, 0);
INSERT INTO public.ingredients VALUES (11, 'Mleko', 0, 0, 0);
INSERT INTO public.ingredients VALUES (12, 'Sol', 0, 0, 0);
INSERT INTO public.ingredients VALUES (13, 'Pieprz', 0, 0, 0);
INSERT INTO public.ingredients VALUES (14, 'Olej', 0, 0, 0);


--
-- TOC entry 3418 (class 0 OID 16397)
-- Dependencies: 212
-- Data for Name: meal_categories; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.meal_categories VALUES (1, 'obiad');
INSERT INTO public.meal_categories VALUES (2, 'śniadanie');
INSERT INTO public.meal_categories VALUES (3, 'kolacja');
INSERT INTO public.meal_categories VALUES (4, 'deser');
INSERT INTO public.meal_categories VALUES (5, 'przekąska');


--
-- TOC entry 3420 (class 0 OID 16401)
-- Dependencies: 214
-- Data for Name: recipeingredients; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.recipeingredients VALUES (1, 5, 200, 2);
INSERT INTO public.recipeingredients VALUES (1, 6, 300, 2);
INSERT INTO public.recipeingredients VALUES (1, 7, 1, 1);
INSERT INTO public.recipeingredients VALUES (1, 8, 2, 8);
INSERT INTO public.recipeingredients VALUES (1, 9, 400, 2);
INSERT INTO public.recipeingredients VALUES (1, 10, 100, 3);
INSERT INTO public.recipeingredients VALUES (1, 12, 1, 7);
INSERT INTO public.recipeingredients VALUES (1, 13, 1, 7);
INSERT INTO public.recipeingredients VALUES (2, 2, 500, 2);
INSERT INTO public.recipeingredients VALUES (2, 3, 150, 3);
INSERT INTO public.recipeingredients VALUES (2, 12, 1, 7);
INSERT INTO public.recipeingredients VALUES (2, 13, 1, 7);
INSERT INTO public.recipeingredients VALUES (2, 4, 1, 1);
INSERT INTO public.recipeingredients VALUES (3, 10, 2, 1);
INSERT INTO public.recipeingredients VALUES (3, 11, 50, 3);
INSERT INTO public.recipeingredients VALUES (3, 12, 1, 7);
INSERT INTO public.recipeingredients VALUES (3, 13, 1, 7);
INSERT INTO public.recipeingredients VALUES (3, 4, 1, 1);
INSERT INTO public.recipeingredients VALUES (16, 1, 1, 1);


--
-- TOC entry 3421 (class 0 OID 16404)
-- Dependencies: 215
-- Data for Name: recipes; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.recipes VALUES (1, 'Spaghetti', 1, 'nie wiesz?', 69, 5, 0, '2025-04-05 17:37:31.826369', 2, 1);
INSERT INTO public.recipes VALUES (1, 'Krem z brokułów', 1, '1. Gotuj brokuły aż będą miękkie 2.Odlej 3/4 wody z garnka 4. Zblenduj całość na gładki krem. 5. Dodaj śmietanę, sól i pieprz do smaku. 6. Podawaj na gorąco z bagietką czosnkową.', 30, 0, 5, '2025-04-05 19:31:01.199009', 2, 2);
INSERT INTO public.recipes VALUES (1, 'Omlet', 2, '1. Rozbij jajka do miski i wymieszaj je z mlekiem. 2. Dopraw solą i pieprzem. 3. Na patelni rozgrzej olej, wlej jajka i smaż na małym ogniu. 4. Po chwilii obróć omlet na drugą strone. 5. Podawaj z ulubionymi dodatkami', 15, 0, 5, '2025-04-05 19:37:20.391126', 1, 3);
INSERT INTO public.recipes VALUES (1, 'Kanapka', NULL, 'Chleb, ser, pomidor, sałata', NULL, 0, 0, '2025-04-05 17:37:31.826369', 1, 7);
INSERT INTO public.recipes VALUES (1, 'chleb', NULL, '1. no chleb', NULL, 0, 0, '2025-04-05 17:37:31.826369', 1, 10);
INSERT INTO public.recipes VALUES (1, 'Pomidor', 1, 'Zjedz pomidora', NULL, 0, 5, '2025-04-05 17:37:31.826369', 1, 16);


--
-- TOC entry 3423 (class 0 OID 16412)
-- Dependencies: 217
-- Data for Name: units; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.units VALUES (1, 'szt.');
INSERT INTO public.units VALUES (2, 'g');
INSERT INTO public.units VALUES (3, 'ml');
INSERT INTO public.units VALUES (4, 'kg');
INSERT INTO public.units VALUES (5, 'l');
INSERT INTO public.units VALUES (6, 'łyżka');
INSERT INTO public.units VALUES (7, 'łyżeczka');
INSERT INTO public.units VALUES (8, 'ząbek');


--
-- TOC entry 3425 (class 0 OID 16416)
-- Dependencies: 219
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.users VALUES (5, 'Karol', '$2y$10$VmMccthpNO.NjWJ4fJN4uOwsAM0Tj0HjxK1fKKYS7YhZ9rFcmjSr2');
INSERT INTO public.users VALUES (6, 'Jakub', '$2y$10$.DoqKsDuyP4gxUF5oZtyYeySV8q3B97Xec4tejYKYQNdfU6T1J7J.');
INSERT INTO public.users VALUES (1, 'Obka', '$2y$10$.DoqKsDuyP4gxUF5oZtyYeySV8q3B97Xec4tejYKYQNdfU6T1J7J.');


--
-- TOC entry 3435 (class 0 OID 0)
-- Dependencies: 213
-- Name: meal_categories_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.meal_categories_id_seq', 1, false);


--
-- TOC entry 3436 (class 0 OID 0)
-- Dependencies: 216
-- Name: recipes_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.recipes_id_seq', 16, true);


--
-- TOC entry 3437 (class 0 OID 0)
-- Dependencies: 218
-- Name: units_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.units_id_seq', 7, true);


--
-- TOC entry 3438 (class 0 OID 0)
-- Dependencies: 220
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_id_seq', 6, true);


--
-- TOC entry 3249 (class 2606 OID 16425)
-- Name: comments comments_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.comments
    ADD CONSTRAINT comments_pkey PRIMARY KEY (id);


--
-- TOC entry 3251 (class 2606 OID 16427)
-- Name: fridgeingredient fridgeingredient_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.fridgeingredient
    ADD CONSTRAINT fridgeingredient_pkey PRIMARY KEY (id);


--
-- TOC entry 3253 (class 2606 OID 16429)
-- Name: ingredients ingredients_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ingredients
    ADD CONSTRAINT ingredients_name_key UNIQUE (name);


--
-- TOC entry 3255 (class 2606 OID 16431)
-- Name: ingredients ingredients_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.ingredients
    ADD CONSTRAINT ingredients_pkey PRIMARY KEY (id);


--
-- TOC entry 3257 (class 2606 OID 16433)
-- Name: meal_categories meal_categories_name_category_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.meal_categories
    ADD CONSTRAINT meal_categories_name_category_key UNIQUE (name_category);


--
-- TOC entry 3259 (class 2606 OID 16435)
-- Name: meal_categories meal_categories_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.meal_categories
    ADD CONSTRAINT meal_categories_pkey PRIMARY KEY (id);


--
-- TOC entry 3261 (class 2606 OID 16437)
-- Name: recipes recipes_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.recipes
    ADD CONSTRAINT recipes_pkey PRIMARY KEY (id);


--
-- TOC entry 3263 (class 2606 OID 16439)
-- Name: units units_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.units
    ADD CONSTRAINT units_name_key UNIQUE (name);


--
-- TOC entry 3265 (class 2606 OID 16441)
-- Name: units units_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.units
    ADD CONSTRAINT units_pkey PRIMARY KEY (id);


--
-- TOC entry 3267 (class 2606 OID 16443)
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- TOC entry 3268 (class 2606 OID 16444)
-- Name: comments comments_recipe_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.comments
    ADD CONSTRAINT comments_recipe_id_fkey FOREIGN KEY (recipe_id) REFERENCES public.recipes(id);


--
-- TOC entry 3269 (class 2606 OID 16449)
-- Name: comments comments_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.comments
    ADD CONSTRAINT comments_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- TOC entry 3270 (class 2606 OID 16454)
-- Name: fridgeingredient fridgeingredient_ingredient_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.fridgeingredient
    ADD CONSTRAINT fridgeingredient_ingredient_id_fkey FOREIGN KEY (ingredient_id) REFERENCES public.ingredients(id);


--
-- TOC entry 3271 (class 2606 OID 16459)
-- Name: fridgeingredient fridgeingredient_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.fridgeingredient
    ADD CONSTRAINT fridgeingredient_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id);


--
-- TOC entry 3272 (class 2606 OID 16464)
-- Name: recipeingredients recipeingredients_ingredient_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.recipeingredients
    ADD CONSTRAINT recipeingredients_ingredient_id_fkey FOREIGN KEY (ingredient_id) REFERENCES public.ingredients(id);


--
-- TOC entry 3273 (class 2606 OID 16469)
-- Name: recipeingredients recipeingredients_recipe_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.recipeingredients
    ADD CONSTRAINT recipeingredients_recipe_id_fkey FOREIGN KEY (recipe_id) REFERENCES public.recipes(id);


--
-- TOC entry 3274 (class 2606 OID 16474)
-- Name: recipeingredients recipeingredients_unit_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.recipeingredients
    ADD CONSTRAINT recipeingredients_unit_fkey FOREIGN KEY (unit) REFERENCES public.units(id);


--
-- TOC entry 3275 (class 2606 OID 16479)
-- Name: recipes recipes_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.recipes
    ADD CONSTRAINT recipes_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(id);


-- Completed on 2025-05-13 13:46:32 CEST

--
-- PostgreSQL database dump complete
--

